<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cookie和Session | Auraro&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="面向对象面向君，不负代码不负卿。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="AuraroJ,博客,conimi,nico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.d0b3c9ae.css" as="style"><link rel="preload" href="/assets/js/app.13bf33ce.js" as="script"><link rel="preload" href="/assets/js/3.583d0c72.js" as="script"><link rel="preload" href="/assets/js/1.eb42dbb0.js" as="script"><link rel="preload" href="/assets/js/190.06fa3c54.js" as="script"><link rel="prefetch" href="/assets/js/10.5cde4a25.js"><link rel="prefetch" href="/assets/js/100.249b3104.js"><link rel="prefetch" href="/assets/js/101.71e628ba.js"><link rel="prefetch" href="/assets/js/102.825321bd.js"><link rel="prefetch" href="/assets/js/103.53d627f6.js"><link rel="prefetch" href="/assets/js/104.0b4f9082.js"><link rel="prefetch" href="/assets/js/105.214cc521.js"><link rel="prefetch" href="/assets/js/106.846b468b.js"><link rel="prefetch" href="/assets/js/107.10ab63dc.js"><link rel="prefetch" href="/assets/js/108.79d6d34d.js"><link rel="prefetch" href="/assets/js/109.6bc2d7dc.js"><link rel="prefetch" href="/assets/js/11.00989c85.js"><link rel="prefetch" href="/assets/js/110.8e7d9718.js"><link rel="prefetch" href="/assets/js/111.0cf1a215.js"><link rel="prefetch" href="/assets/js/112.0d3cebe4.js"><link rel="prefetch" href="/assets/js/113.478ec2b7.js"><link rel="prefetch" href="/assets/js/114.4c0138cc.js"><link rel="prefetch" href="/assets/js/115.cce73f11.js"><link rel="prefetch" href="/assets/js/116.11374ee2.js"><link rel="prefetch" href="/assets/js/117.3b015363.js"><link rel="prefetch" href="/assets/js/118.bfb457fb.js"><link rel="prefetch" href="/assets/js/119.1cb51f3a.js"><link rel="prefetch" href="/assets/js/12.089cc736.js"><link rel="prefetch" href="/assets/js/120.fee33cb2.js"><link rel="prefetch" href="/assets/js/121.1f994156.js"><link rel="prefetch" href="/assets/js/122.268832f9.js"><link rel="prefetch" href="/assets/js/123.5290990c.js"><link rel="prefetch" href="/assets/js/124.f96b0201.js"><link rel="prefetch" href="/assets/js/125.df6672ee.js"><link rel="prefetch" href="/assets/js/126.9bff106c.js"><link rel="prefetch" href="/assets/js/127.c74ea3ea.js"><link rel="prefetch" href="/assets/js/128.940e368f.js"><link rel="prefetch" href="/assets/js/129.a749164d.js"><link rel="prefetch" href="/assets/js/13.d19e71e7.js"><link rel="prefetch" href="/assets/js/130.c9dcc0cd.js"><link rel="prefetch" href="/assets/js/131.8d253456.js"><link rel="prefetch" href="/assets/js/132.8a004beb.js"><link rel="prefetch" href="/assets/js/133.d73c4e7a.js"><link rel="prefetch" href="/assets/js/134.ccf91291.js"><link rel="prefetch" href="/assets/js/135.096d971c.js"><link rel="prefetch" href="/assets/js/136.dbeb8588.js"><link rel="prefetch" href="/assets/js/137.3cba8e61.js"><link rel="prefetch" href="/assets/js/138.967809b0.js"><link rel="prefetch" href="/assets/js/139.fcb87e72.js"><link rel="prefetch" href="/assets/js/14.add2b9d1.js"><link rel="prefetch" href="/assets/js/140.a8ffb327.js"><link rel="prefetch" href="/assets/js/141.698bffe1.js"><link rel="prefetch" href="/assets/js/142.cb68810e.js"><link rel="prefetch" href="/assets/js/143.282d2058.js"><link rel="prefetch" href="/assets/js/144.8c6dcae7.js"><link rel="prefetch" href="/assets/js/145.de0585b6.js"><link rel="prefetch" href="/assets/js/146.a8fa67bb.js"><link rel="prefetch" href="/assets/js/147.9819114d.js"><link rel="prefetch" href="/assets/js/148.83edb770.js"><link rel="prefetch" href="/assets/js/149.c8fe6f5a.js"><link rel="prefetch" href="/assets/js/15.582742d3.js"><link rel="prefetch" href="/assets/js/150.b0c60fcf.js"><link rel="prefetch" href="/assets/js/151.2d7cdd2e.js"><link rel="prefetch" href="/assets/js/152.5bb4875c.js"><link rel="prefetch" href="/assets/js/153.b42f7ec0.js"><link rel="prefetch" href="/assets/js/154.ad292e40.js"><link rel="prefetch" href="/assets/js/155.a6e124c7.js"><link rel="prefetch" href="/assets/js/156.dbe0647b.js"><link rel="prefetch" href="/assets/js/157.879019b3.js"><link rel="prefetch" href="/assets/js/158.593a7c35.js"><link rel="prefetch" href="/assets/js/159.18a8865f.js"><link rel="prefetch" href="/assets/js/16.f8623d4d.js"><link rel="prefetch" href="/assets/js/160.d5d783af.js"><link rel="prefetch" href="/assets/js/161.4c4ad1a5.js"><link rel="prefetch" href="/assets/js/162.907dd638.js"><link rel="prefetch" href="/assets/js/163.5c5f619f.js"><link rel="prefetch" href="/assets/js/164.622f8edd.js"><link rel="prefetch" href="/assets/js/165.75bf583f.js"><link rel="prefetch" href="/assets/js/166.271cc4d9.js"><link rel="prefetch" href="/assets/js/167.00bbafd7.js"><link rel="prefetch" href="/assets/js/168.96be75b9.js"><link rel="prefetch" href="/assets/js/169.e4655d66.js"><link rel="prefetch" href="/assets/js/17.9ec134fd.js"><link rel="prefetch" href="/assets/js/170.d55183d6.js"><link rel="prefetch" href="/assets/js/171.98451de8.js"><link rel="prefetch" href="/assets/js/172.f791b19a.js"><link rel="prefetch" href="/assets/js/173.dca2f62f.js"><link rel="prefetch" href="/assets/js/174.5539ad1a.js"><link rel="prefetch" href="/assets/js/175.e8aea228.js"><link rel="prefetch" href="/assets/js/176.ed32f40c.js"><link rel="prefetch" href="/assets/js/177.b149d01a.js"><link rel="prefetch" href="/assets/js/178.de26b765.js"><link rel="prefetch" href="/assets/js/179.d147be23.js"><link rel="prefetch" href="/assets/js/18.5d946deb.js"><link rel="prefetch" href="/assets/js/180.f5044439.js"><link rel="prefetch" href="/assets/js/181.186b6be4.js"><link rel="prefetch" href="/assets/js/182.6bf9d099.js"><link rel="prefetch" href="/assets/js/183.35dfdc55.js"><link rel="prefetch" href="/assets/js/184.86b6aa2c.js"><link rel="prefetch" href="/assets/js/185.4856a0de.js"><link rel="prefetch" href="/assets/js/186.e15d2acf.js"><link rel="prefetch" href="/assets/js/187.b3b53f8a.js"><link rel="prefetch" href="/assets/js/188.9249d82b.js"><link rel="prefetch" href="/assets/js/189.72ee34be.js"><link rel="prefetch" href="/assets/js/19.8f07e823.js"><link rel="prefetch" href="/assets/js/191.aa4614a5.js"><link rel="prefetch" href="/assets/js/192.ccc2a586.js"><link rel="prefetch" href="/assets/js/193.e55931b6.js"><link rel="prefetch" href="/assets/js/194.2ed5fd8a.js"><link rel="prefetch" href="/assets/js/195.7465e740.js"><link rel="prefetch" href="/assets/js/196.6b80ce2f.js"><link rel="prefetch" href="/assets/js/197.68946a61.js"><link rel="prefetch" href="/assets/js/198.f9a452a4.js"><link rel="prefetch" href="/assets/js/199.1cb7c0ce.js"><link rel="prefetch" href="/assets/js/20.2f684cc1.js"><link rel="prefetch" href="/assets/js/200.306c5e5c.js"><link rel="prefetch" href="/assets/js/201.669cba4a.js"><link rel="prefetch" href="/assets/js/202.cb96016f.js"><link rel="prefetch" href="/assets/js/203.4b7e3fa0.js"><link rel="prefetch" href="/assets/js/204.55f7ae3e.js"><link rel="prefetch" href="/assets/js/205.c5f1ec8a.js"><link rel="prefetch" href="/assets/js/206.2758f87c.js"><link rel="prefetch" href="/assets/js/207.a4c62ebb.js"><link rel="prefetch" href="/assets/js/208.75ba7fce.js"><link rel="prefetch" href="/assets/js/209.2b0e3b20.js"><link rel="prefetch" href="/assets/js/21.c601bb2b.js"><link rel="prefetch" href="/assets/js/210.96106129.js"><link rel="prefetch" href="/assets/js/211.865261af.js"><link rel="prefetch" href="/assets/js/212.ec941fe1.js"><link rel="prefetch" href="/assets/js/213.cbc98af2.js"><link rel="prefetch" href="/assets/js/214.87f7f0c8.js"><link rel="prefetch" href="/assets/js/215.dd0acb8a.js"><link rel="prefetch" href="/assets/js/216.8b3752da.js"><link rel="prefetch" href="/assets/js/217.82f738e2.js"><link rel="prefetch" href="/assets/js/218.7e6ee9b3.js"><link rel="prefetch" href="/assets/js/219.8b630d50.js"><link rel="prefetch" href="/assets/js/22.715a7176.js"><link rel="prefetch" href="/assets/js/220.af51b614.js"><link rel="prefetch" href="/assets/js/221.28c4858a.js"><link rel="prefetch" href="/assets/js/222.96c87046.js"><link rel="prefetch" href="/assets/js/223.da1776ca.js"><link rel="prefetch" href="/assets/js/224.bc9b3fdf.js"><link rel="prefetch" href="/assets/js/225.ebc94001.js"><link rel="prefetch" href="/assets/js/226.f3c49cf9.js"><link rel="prefetch" href="/assets/js/227.87b315ec.js"><link rel="prefetch" href="/assets/js/228.db111489.js"><link rel="prefetch" href="/assets/js/229.7a5b946e.js"><link rel="prefetch" href="/assets/js/23.7cc08dae.js"><link rel="prefetch" href="/assets/js/230.ae5dd49d.js"><link rel="prefetch" href="/assets/js/231.73d73349.js"><link rel="prefetch" href="/assets/js/232.916e3743.js"><link rel="prefetch" href="/assets/js/233.bf1a523a.js"><link rel="prefetch" href="/assets/js/234.1181f31f.js"><link rel="prefetch" href="/assets/js/235.bc14fd79.js"><link rel="prefetch" href="/assets/js/236.20be9f66.js"><link rel="prefetch" href="/assets/js/237.2d8248f0.js"><link rel="prefetch" href="/assets/js/238.cc04c8cb.js"><link rel="prefetch" href="/assets/js/239.22fd693e.js"><link rel="prefetch" href="/assets/js/24.039ee5f1.js"><link rel="prefetch" href="/assets/js/240.96e633c0.js"><link rel="prefetch" href="/assets/js/241.a02442eb.js"><link rel="prefetch" href="/assets/js/242.55287bce.js"><link rel="prefetch" href="/assets/js/243.53dc122b.js"><link rel="prefetch" href="/assets/js/244.76983c08.js"><link rel="prefetch" href="/assets/js/245.33e4a2e5.js"><link rel="prefetch" href="/assets/js/246.39adeb46.js"><link rel="prefetch" href="/assets/js/247.37c5085e.js"><link rel="prefetch" href="/assets/js/248.a7dd451a.js"><link rel="prefetch" href="/assets/js/249.b7ddf63a.js"><link rel="prefetch" href="/assets/js/25.dec20d17.js"><link rel="prefetch" href="/assets/js/250.a536d888.js"><link rel="prefetch" href="/assets/js/251.73ef0000.js"><link rel="prefetch" href="/assets/js/252.849806a0.js"><link rel="prefetch" href="/assets/js/253.1697256c.js"><link rel="prefetch" href="/assets/js/254.722c40d9.js"><link rel="prefetch" href="/assets/js/255.3229b817.js"><link rel="prefetch" href="/assets/js/256.8a35b625.js"><link rel="prefetch" href="/assets/js/257.8052b11d.js"><link rel="prefetch" href="/assets/js/258.72aa7fbc.js"><link rel="prefetch" href="/assets/js/259.576ed2d3.js"><link rel="prefetch" href="/assets/js/26.dad416ee.js"><link rel="prefetch" href="/assets/js/260.ed3b1fce.js"><link rel="prefetch" href="/assets/js/261.0abe5542.js"><link rel="prefetch" href="/assets/js/262.de9719ab.js"><link rel="prefetch" href="/assets/js/263.c78042ab.js"><link rel="prefetch" href="/assets/js/264.b86b05ea.js"><link rel="prefetch" href="/assets/js/265.591d5bad.js"><link rel="prefetch" href="/assets/js/266.f67265b7.js"><link rel="prefetch" href="/assets/js/267.aed44866.js"><link rel="prefetch" href="/assets/js/268.7ca64b3f.js"><link rel="prefetch" href="/assets/js/269.2bb58929.js"><link rel="prefetch" href="/assets/js/27.0d3eeb1c.js"><link rel="prefetch" href="/assets/js/270.f8e126f2.js"><link rel="prefetch" href="/assets/js/271.2a812f88.js"><link rel="prefetch" href="/assets/js/272.8d8643fc.js"><link rel="prefetch" href="/assets/js/273.bcc12f96.js"><link rel="prefetch" href="/assets/js/274.25325920.js"><link rel="prefetch" href="/assets/js/275.83c7cca3.js"><link rel="prefetch" href="/assets/js/276.e7800946.js"><link rel="prefetch" href="/assets/js/277.05bbabc6.js"><link rel="prefetch" href="/assets/js/278.92ac8830.js"><link rel="prefetch" href="/assets/js/279.636111db.js"><link rel="prefetch" href="/assets/js/28.eb5276f2.js"><link rel="prefetch" href="/assets/js/280.dffe9268.js"><link rel="prefetch" href="/assets/js/281.311244d4.js"><link rel="prefetch" href="/assets/js/282.4302ddcb.js"><link rel="prefetch" href="/assets/js/283.c656e34f.js"><link rel="prefetch" href="/assets/js/284.a0d75427.js"><link rel="prefetch" href="/assets/js/285.78a949af.js"><link rel="prefetch" href="/assets/js/286.a6e4a94f.js"><link rel="prefetch" href="/assets/js/287.222f78e5.js"><link rel="prefetch" href="/assets/js/288.b9e85de9.js"><link rel="prefetch" href="/assets/js/289.0c6fb66a.js"><link rel="prefetch" href="/assets/js/29.7bd65ca9.js"><link rel="prefetch" href="/assets/js/290.2e9b7fa4.js"><link rel="prefetch" href="/assets/js/291.d14ed393.js"><link rel="prefetch" href="/assets/js/292.5ed2b36d.js"><link rel="prefetch" href="/assets/js/30.c57da860.js"><link rel="prefetch" href="/assets/js/31.1cc30d4f.js"><link rel="prefetch" href="/assets/js/32.460d68ef.js"><link rel="prefetch" href="/assets/js/33.a8589635.js"><link rel="prefetch" href="/assets/js/34.3f021bbb.js"><link rel="prefetch" href="/assets/js/35.5284e75e.js"><link rel="prefetch" href="/assets/js/36.446ea69b.js"><link rel="prefetch" href="/assets/js/37.6170733e.js"><link rel="prefetch" href="/assets/js/38.4e800202.js"><link rel="prefetch" href="/assets/js/39.d5b1563b.js"><link rel="prefetch" href="/assets/js/4.10543b34.js"><link rel="prefetch" href="/assets/js/40.f6d02ad2.js"><link rel="prefetch" href="/assets/js/41.6b527226.js"><link rel="prefetch" href="/assets/js/42.06cea1eb.js"><link rel="prefetch" href="/assets/js/43.eddc8b5f.js"><link rel="prefetch" href="/assets/js/44.a560f9da.js"><link rel="prefetch" href="/assets/js/45.6b2f1829.js"><link rel="prefetch" href="/assets/js/46.8d0ecc85.js"><link rel="prefetch" href="/assets/js/47.60e3092d.js"><link rel="prefetch" href="/assets/js/48.6856dec0.js"><link rel="prefetch" href="/assets/js/49.7a15f71a.js"><link rel="prefetch" href="/assets/js/5.d0f450bd.js"><link rel="prefetch" href="/assets/js/50.4d8f01e5.js"><link rel="prefetch" href="/assets/js/51.13c2a552.js"><link rel="prefetch" href="/assets/js/52.2d3bf96c.js"><link rel="prefetch" href="/assets/js/53.d04a81bb.js"><link rel="prefetch" href="/assets/js/54.3166e103.js"><link rel="prefetch" href="/assets/js/55.46660105.js"><link rel="prefetch" href="/assets/js/56.5b3196b2.js"><link rel="prefetch" href="/assets/js/57.68064e57.js"><link rel="prefetch" href="/assets/js/58.a0f9d4e9.js"><link rel="prefetch" href="/assets/js/59.5bd8c086.js"><link rel="prefetch" href="/assets/js/6.24060e60.js"><link rel="prefetch" href="/assets/js/60.2ffa491c.js"><link rel="prefetch" href="/assets/js/61.d1ba9295.js"><link rel="prefetch" href="/assets/js/62.77818eb4.js"><link rel="prefetch" href="/assets/js/63.ec22fe14.js"><link rel="prefetch" href="/assets/js/64.df66e369.js"><link rel="prefetch" href="/assets/js/65.ef2a03a2.js"><link rel="prefetch" href="/assets/js/66.80701ac7.js"><link rel="prefetch" href="/assets/js/67.b0a7e357.js"><link rel="prefetch" href="/assets/js/68.a4dbe93c.js"><link rel="prefetch" href="/assets/js/69.8e046e7d.js"><link rel="prefetch" href="/assets/js/7.b8bf6b3f.js"><link rel="prefetch" href="/assets/js/70.6e53af9f.js"><link rel="prefetch" href="/assets/js/71.3b7523e0.js"><link rel="prefetch" href="/assets/js/72.d788984c.js"><link rel="prefetch" href="/assets/js/73.ea87f541.js"><link rel="prefetch" href="/assets/js/74.53140570.js"><link rel="prefetch" href="/assets/js/75.940220d7.js"><link rel="prefetch" href="/assets/js/76.32002664.js"><link rel="prefetch" href="/assets/js/77.552dc6c4.js"><link rel="prefetch" href="/assets/js/78.f2e8439b.js"><link rel="prefetch" href="/assets/js/79.3425ca69.js"><link rel="prefetch" href="/assets/js/8.024a3703.js"><link rel="prefetch" href="/assets/js/80.0eb52f53.js"><link rel="prefetch" href="/assets/js/81.baf9eaf4.js"><link rel="prefetch" href="/assets/js/82.82e2cd4b.js"><link rel="prefetch" href="/assets/js/83.508e9bc6.js"><link rel="prefetch" href="/assets/js/84.6fd61f77.js"><link rel="prefetch" href="/assets/js/85.32322729.js"><link rel="prefetch" href="/assets/js/86.3c55455f.js"><link rel="prefetch" href="/assets/js/87.4f2ac4cc.js"><link rel="prefetch" href="/assets/js/88.221a9d92.js"><link rel="prefetch" href="/assets/js/89.6cc56bd8.js"><link rel="prefetch" href="/assets/js/9.3f593a50.js"><link rel="prefetch" href="/assets/js/90.0e63d0c9.js"><link rel="prefetch" href="/assets/js/91.27f5fda2.js"><link rel="prefetch" href="/assets/js/92.49073289.js"><link rel="prefetch" href="/assets/js/93.9db2ba78.js"><link rel="prefetch" href="/assets/js/94.ff1cee5f.js"><link rel="prefetch" href="/assets/js/95.2d7759a8.js"><link rel="prefetch" href="/assets/js/96.5b1279d7.js"><link rel="prefetch" href="/assets/js/97.2c1d4ea9.js"><link rel="prefetch" href="/assets/js/98.1c912a6b.js"><link rel="prefetch" href="/assets/js/99.6886573f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d0b3c9ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-11f94078><div data-v-11f94078><div class="password-shadow password-wrapper-out" style="display:none;" data-v-08f61db9 data-v-11f94078 data-v-11f94078><h3 class="title" data-v-08f61db9>Auraro's Blog</h3> <p class="description" data-v-08f61db9>面向对象面向君，不负代码不负卿。</p> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <!---->
        2022
      </a></span></div></div> <div class="hide" data-v-11f94078><header class="navbar" data-v-11f94078><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Auraro's Blog" class="logo"> <span class="site-name">Auraro's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/review.html" class="nav-link"><i class="iconfont reco-blog"></i>
  回顾
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-11f94078></div> <aside class="sidebar" data-v-11f94078><div class="personal-info-wrapper" data-v-3d87d2e4 data-v-11f94078><img src="/logo.png" alt="author-avatar" class="personal-img" data-v-3d87d2e4> <h3 class="name" data-v-3d87d2e4>
    AuraroJ
  </h3> <div class="num" data-v-3d87d2e4><div data-v-3d87d2e4><h3 data-v-3d87d2e4>68</h3> <h6 data-v-3d87d2e4>文章</h6></div> <div data-v-3d87d2e4><h3 data-v-3d87d2e4>29</h3> <h6 data-v-3d87d2e4>标签</h6></div></div> <ul class="social-links" data-v-3d87d2e4></ul> <hr data-v-3d87d2e4></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/review.html" class="nav-link"><i class="iconfont reco-blog"></i>
  回顾
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络概述</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据链路层</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络层</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>传输层</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>细节常识</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/浏览器输入url过程.html" class="sidebar-link">浏览器输入url过程</a></li><li><a href="/network/三次握手四次挥手.html" class="sidebar-link">三次握手和四次挥手</a></li><li><a href="/network/转发和重定向的区别.html" class="sidebar-link">转发和重定向区别</a></li><li><a href="/network/COOKIE and SESSION.html" class="active sidebar-link">Cookie和Session</a></li><li><a href="/network/DNS解析过程.html" class="sidebar-link">DNS解析过程</a></li><li><a href="/network/GET and POST.html" class="sidebar-link">GET 和 POST</a></li><li><a href="/network/HTTP and Servlet.html" class="sidebar-link">HTTP 和 Servlet</a></li><li><a href="/network/HTTP.html" class="sidebar-link">HTTP</a></li><li><a href="/network/HTTP版本.html" class="sidebar-link">HTTP版本</a></li><li><a href="/network/HTTP的请求头.html" class="sidebar-link">HTTP请求头</a></li><li><a href="/network/HTTP和HTTPS.html" class="sidebar-link">HTTP和HTTPS</a></li><li><a href="/network/HTTPS和HTTP.html" class="sidebar-link">HTTP和HTTPS</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-08f61db9 data-v-11f94078><h3 class="title" data-v-08f61db9>Cookie和Session</h3> <!----> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <!---->
        2022
      </a></span></div></div> <div data-v-11f94078><div data-v-11f94078><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Cookie和Session</h1> <div data-v-162cc157><i class="iconfont reco-account" data-v-162cc157><span data-v-162cc157>AuraroJ</span></i> <i class="iconfont reco-date" data-v-162cc157><span data-v-162cc157>2022/5/12</span></i> <i class="iconfont reco-eye" data-v-162cc157><span id="/network/COOKIE%20and%20SESSION.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-162cc157><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h3 id="cookie和session的区别"><a href="#cookie和session的区别" class="header-anchor">#</a> Cookie和session的区别</h3> <p>cookie是服务器颁发给客户端浏览器的凭证，存储在客户端</p> <p>session是客户端存储的服务器端的用户信息，存储在服务器端</p> <p>cookie的大小不能超过4K，很多网站限制cookie的数量不能超过20个，但是对session没有限制</p> <p>cookie是不安全的，会引发cookie欺骗，而session是安全的</p> <p>但是session较大，在服务器端存储会占用较多服务器的性能，所以考虑性能应该选择cookie</p> <p>会话（Session）跟踪是Web程序中常用的技术，用来跟踪用户的整个会话。常用的会话跟踪技术是Cookie与Session。Cookie通过在客户端记录信息确认用户身份，Session通过在服务器端记录信息确认用户身份。</p> <p>1.1 <code>Cookie</code>机制</p> <p>在程序中，会话跟踪是很重要的事情。理论上，一个用户的所有请求操作都应该属于同一个会话，而另一个用户的所有请求操作则应该属于另一个会话，二者不能混淆。例如，用户A在超市购买的任何商品都应该放在A的购物车内，不论是用户A什么时间购买的，这都是属于同一个会话的，不能放入用户B或用户C的购物车内，这不属于同一个会话。</p> <p>而Web应用程序是使用HTTP协议传输数据的。<code>HTTP</code>协议是无状态的协议。一旦数据交换完毕，客户端与服务器端的连接就会关闭，再次交换数据需要建立新的连接。这就意味着服务器无法从连接上跟踪会话。即用户A购买了一件商品放入购物车内，当再次购买商品时服务器已经无法判断该购买行为是属于用户A的会话还是用户B的会话了。要跟踪该会话，必须引入一种机制。</p> <p>Cookie就是这样的一种机制。它可以弥补HTTP协议无状态的不足。在Session出现之前，基本上所有的网站都采用Cookie来跟踪会话。</p> <p>1.1.1什么是<code>cookie</code>？</p> <p><code>Cookie</code>意为“甜饼”，是由W3C组织提出，最早由<code>Netscape</code>社区发展的一种机制。目前Cookie已经成为标准，所有的主流浏览器如IE、Netscape、Firefox、Opera等都支持Cookie。</p> <p>由于<code>HTTP</code>是一种无状态的协议，服务器单从网络连接上无从知道客户身份。怎么办呢？就<strong>给客户端们颁发一个通行证吧，每人一个，无论谁访问都必须携带自己通行证。这样服务器就能从通行证上确认客户身份了。这就是Cookie的工作原理</strong>。</p> <p><code>Cookie</code>实际上是一小段的文本信息。客户端请求服务器，如果服务器需要记录该用户状态，就使用response向客户端浏览器颁发一个Cookie。客户端浏览器会把Cookie保存起来。当浏览器再请求该网站时，浏览器把请求的网址连同该Cookie一同提交给服务器。服务器检查该Cookie，以此来辨认用户状态。服务器还可以根据需要修改Cookie的内容。</p> <p><strong>所以项目中的登录凭证是存在cookie里的，这样每一次客户端浏览器给服务器发送请求都会协带该cookie，进行验证。</strong></p> <p><img src="https://img-blog.csdnimg.cn/b5925c774b5341d48f690cd9e1fc3e13.png" alt="在这里插入图片描述"></p> <p>1.1.2 记录用户访问次数</p> <p>Java中把Cookie封装成了javax.servlet.http.Cookie类。每个Cookie都是该Cookie类的对象。服务器通过操作<code>Cookie</code>类对象对客户端Cookie进行操作。通过**<code>request.getCookie()</code>获取客户端提交的所有Cookie**（以Cookie[]数组形式返回），<strong>通过response.addCookie(Cookiecookie)向客户端设置Cookie</strong>。</p> <p>Cookie对象使用key-value属性对的形式保存用户状态，一个Cookie对象保存一个属性对，一个request或者response同时使用多个Cookie。因为Cookie类位于包javax.servlet.http.*下面，所以JSP中不需要import该类。</p> <p>1.1.3 Cookie的不可跨域名性</p> <p>很多网站都会使用Cookie。例如，Google会向客户端颁发Cookie，Baidu也会向客户端颁发Cookie。那浏览器访问Google会不会也携带上Baidu颁发的Cookie呢？或者Google能不能修改Baidu颁发的Cookie呢？</p> <p>答案是否定的。Cookie具有不可跨域名性。根据Cookie规范，浏览器访问Google只会携带Google的Cookie，而不会携带Baidu的Cookie。Google也只能操作Google的Cookie，而不能操作Baidu的Cookie。</p> <p>Cookie在客户端是由浏览器来管理的。浏览器能够保证Google只会操作Google的Cookie而不会操作Baidu的Cookie，从而保证用户的隐私安全。浏览器判断一个网站是否能操作另一个网站Cookie的依据是域名。Google与Baidu的域名不一样，因此Google不能操作Baidu的Cookie。</p> <p>需要注意的是，虽然网站images.google.com与网站www.google.com同属于Google，但是域名不一样，二者同样不能互相操作彼此的Cookie。</p> <p>1.1.4 Unicode编码：保存中文</p> <p>中文与英文字符不同，中文属于Unicode字符，在内存中占4个字符，而英文属于ASCLL字符，内存中只占2个字节。Cookie中使用Unicode字符时需要对Unicode字符进行编码，否则会乱码。</p> <p>提示：Cookie中保存中文只能编码。一般使用UTF-8编码即可。不推荐使用GBK等中文编码，因为浏览器不一定支持，而且JavaScript也不支持GBK编码。</p> <p>1.1.5 BASE64编码：保存二进制图片</p> <p>Cookie不仅可以使用ASCII字符与Unicode字符，还可以使用二进制数据。例如在Cookie中使用数字证书，提供安全度。使用二进制数据时也需要进行编码。</p> <p>注意：本程序仅用于展示Cookie中可以存储二进制内容，并不实用。由于浏览器每次请求服务器都会携带Cookie，因此Cookie内容不宜过多，否则影响速度。Cookie的内容应该少而精。</p> <p>1.1.6 设置cookie的所有属性</p> <p>除了name与value之外，Cookie还具有其他几个常用的属性。每个属性对应一个getter方法与一个setter方法。Cookie类的所有属性如表1.1所示。</p> <p><img src="https://img-blog.csdnimg.cn/3b0d6bd8cb5a4d5db98901feda942ec9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGVlZGNvZGVKb2huMDE=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p> <p>1.1.7 <code>Cookie</code>的有效期</p> <p>Cookie的maxAge决定着Cookie的有效期，单位为秒（Second）。Cookie中通过getMaxAge()方法与setMaxAge(int maxAge)方法来读写maxAge属性。</p> <p>如果maxAge属性为正数，则表示该Cookie会在maxAge秒之后自动失效。浏览器会将maxAge为正数的Cookie持久化，即写到对应的Cookie文件中。无论客户关闭了浏览器还是电脑，只要还在maxAge秒之前，登录网站时该Cookie仍然有效。下面代码中的Cookie信息将永远有效。</p> <p><strong>Cookie cookie = new Cookie(&quot;username&quot;,&quot;helloweenvsfei&quot;);   // 新建Cookie</strong> <strong>cookie.setMaxAge(Integer.MAX_VALUE);           // 设置生命周期为MAX_VALUE</strong> <strong>response.addCookie(cookie);                    // 输出到客户端</strong></p> <p>如果maxAge为负数，则表示该Cookie仅在本浏览器窗口以及本窗口打开的子窗口内有效，关闭窗口后该Cookie即失效。maxAge为负数的Cookie，为临时性Cookie，不会被持久化，不会被写到Cookie文件中。Cookie信息保存在浏览器内存中，因此关闭浏览器该Cookie就消失了。Cookie默认的maxAge值为–1。</p> <p>如果maxAge为0，则表示删除该Cookie。Cookie机制没有提供删除Cookie的方法，因此通过设置该Cookie即时失效实现删除Cookie的效果。失效的Cookie会被浏览器从Cookie文件或者内存中删除.</p> <p>例如：</p> <p><strong>Cookie cookie = new Cookie(&quot;username&quot;,&quot;helloweenvsfei&quot;);   // 新建Cookie</strong> <strong>cookie.setMaxAge(0);                          // 设置生命周期为0，不能为负数</strong> <strong>response.addCookie(cookie);                    // 必须执行这一句</strong></p> <p>response对象提供的Cookie操作方法只有一个添加操作add(Cookie cookie)。</p> <p>要想修改Cookie只能使用一个同名的Cookie来覆盖原来的Cookie，达到修改的目的。删除时只需要把maxAge修改为0即可。</p> <p>注意：从客户端读取Cookie时，包括maxAge在内的其他属性都是不可读的，也不会被提交。浏览器提交Cookie时只会提交name与value属性。maxAge属性只被浏览器用来判断Cookie是否过期。</p> <p>1.1.8 <code>Cookie</code>的修改、删除</p> <p>Cookie并不提供修改、删除操作。如果要修改某个Cookie，只需要新建一个同名的Cookie，添加到response中覆盖原来的Cookie。</p> <p>如果要删除某个Cookie，只需要新建一个同名的Cookie，并将maxAge设置为0，并添加到response中覆盖原来的Cookie。注意是0而不是负数。负数代表其他的意义。读者可以通过上例的程序进行验证，设置不同的属性。</p> <p>注意：修改、删除Cookie时，新建的Cookie除value、maxAge之外的所有属性，例如name、path、domain等，都要与原Cookie完全一样。否则，浏览器将视为两个不同的Cookie不予覆盖，导致修改、删除失败。</p> <p>1.1.9 Cookie的域名</p> <p>Cookie是不可跨域名的。域名www.google.com颁发的Cookie不会被提交到域名www.baidu.com去。这是由Cookie的隐私安全机制决定的。隐私安全机制能够禁止网站非法获取其他网站的Cookie。</p> <p>正常情况下，同一个一级域名下的两个二级域名如www.helloweenvsfei.com和images.helloweenvsfei.com也不能交互使用Cookie，因为二者的域名并不严格相同。如果想所有helloweenvsfei.com名下的二级域名都可以使用该Cookie，需要设置Cookie的domain参数，例如：</p> <p><strong>Cookie cookie = new Cookie(&quot;time&quot;,&quot;20080808&quot;); // 新建Cookie</strong></p> <p><strong>cookie.setDomain(&quot;.helloweenvsfei.com&quot;);           // 设置域名</strong></p> <p><strong>cookie.setPath(&quot;/&quot;);                              // 设置路径</strong></p> <p><strong>cookie.setMaxAge(Integer.MAX_VALUE);               // 设置有效期</strong></p> <p><strong>response.addCookie(cookie);                       // 输出到客户端</strong></p> <p>读者可以修改本机C:\WINDOWS\system32\drivers\etc下的hosts文件来配置多个临时域名，然后使用setCookie.jsp程序来设置跨域名Cookie验证domain属性。</p> <p>注意：domain参数必须以点(&quot;.&quot;)开始。另外，name相同但domain不同的两个Cookie是两个不同的Cookie。如果想要两个域名完全不同的网站共有Cookie，可以生成两个Cookie，domain属性分别为两个域名，输出到客户端。</p> <p>1.1.10 <code>Cookie</code>的路径</p> <p>domain属性决定运行访问Cookie的域名，而path属性决定允许访问Cookie的路径（ContextPath）。例如，如果只允许/sessionWeb/下的程序使用Cookie，可以这么写：</p> <p><strong>Cookie cookie = new Cookie(&quot;time&quot;,&quot;20080808&quot;);     // 新建Cookie</strong></p> <p><strong>cookie.setPath(&quot;/session/&quot;);                          // 设置路径</strong></p> <p><strong>response.addCookie(cookie);                           // 输出到客户端</strong></p> <p>设置为“/”时允许所有路径使用Cookie。path属性需要使用符号“/”结尾。name相同但domain相同的两个Cookie也是两个不同的Cookie。</p> <p>注意：页面只能获取它属于的Path的Cookie。例如/session/test/a.jsp不能获取到路径为/session/abc/的Cookie。使用时一定要注意。</p> <p>1.1.11 Cookie的安全属性</p> <p><code>HTTP</code>协议不仅是无状态的，而且是不安全的。使用HTTP协议的数据不经过任何加密就直接在网络上传播，有被截获的可能。使用HTTP协议传输很机密的内容是一种隐患。<strong>如果不希望Cookie在HTTP等非安全协议中传输，可以设置Cookie的secure属性为true。浏览器只会在HTTPS和SSL等安全协议中传输此类Cookie</strong>。下面的代码设置secure属性为true：</p> <p><strong>Cookie cookie = new Cookie(&quot;time&quot;, &quot;20080808&quot;); // 新建Cookie</strong></p> <p><strong>cookie.setSecure(true);                           // 设置安全属性</strong></p> <p><strong>response.addCookie(cookie);                        // 输出到客户端</strong></p> <p>提示：secure属性并不能对Cookie内容加密，因而不能保证绝对的安全性。如果需要高安全性，需要在程序中对Cookie内容加密、解密，以防泄密。</p> <p>1.1.12 JavaScript操作cookie</p> <p>Cookie是保存在浏览器端的，因此浏览器具有操作Cookie的先决条件。浏览器可以使用脚本程序如JavaScript或者VBScript等操作Cookie。这里以JavaScript为例介绍常用的Cookie操作。例如下面的代码会输出本页面所有的Cookie。</p> <p><strong><script>document.write(document.cookie);</script></strong></p> <p>由于JavaScript能够任意地读写Cookie，有些好事者便想使用JavaScript程序去窥探用户在其他网站的Cookie。不过这是徒劳的，W3C组织早就意识到JavaScript对Cookie的读写所带来的安全隐患并加以防备了，W3C标准的浏览器会阻止JavaScript读写任何不属于自己网站的Cookie。换句话说，A网站的JavaScript程序读写B网站的Cookie不会有任何结果。</p> <p>1.1.13 案例：永久登录</p> <p>如果用户是在自己家的电脑上上网，登录时就可以记住他的登录信息，下次访问时不需要再次登录，直接访问即可。实现方法是<strong>把登录信息如账号、密码等保存在Cookie中，并控制Cookie的有效期，下次访问时再验证Cookie中的登录信息即可</strong>。</p> <p>保存登录信息有多种方案。最直接的是把用户名与密码都保持到Cookie中，下次访问时检查Cookie中的用户名与密码，与数据库比较。这是<strong>一种比较危险的选择，一般不把密码等重要信息保存到Cookie中</strong>。</p> <p>还有<strong>一种方案是把密码加密后保存到Cookie中，下次访问时解密并与数据库比较</strong>。这种方案略微安全一些。如果不希望保存密码，还可以把登录的时间戳保存到Cookie与数据库中，到时只验证用户名与登录时间戳就可以了。</p> <p>这几种方案验证账号时都要查询数据库.</p> <p>本例将采用另一种方案，只在登录时查询一次数据库，以后访问验证登录信息时不再查询数据库。实现方式是把账号按照一定的规则加密后，连同账号一块保存到Cookie中。下次访问时只需要判断账号的加密规则是否正确即可。本例把账号保存到名为account的Cookie中，把账号连同密钥用MD1算法加密后保存到名为ssid的Cookie中。验证时验证Cookie中的账号与密钥加密后是否与<code>Cookie</code>中的<code>ssid</code>相等。</p> <p><img src="https://img-blog.csdnimg.cn/19f6efe9155547acae87384b96f46784.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGVlZGNvZGVKb2huMDE=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p> <p>1.2 <code>Session</code>机制</p> <p>除了使用Cookie，Web应用程序中还经常使用Session来记录客户端状态。<code>Session是服务器端使用的一种记录客户端状态的机制</code>，使用上比Cookie简单一些，相应的也<code>增加了服务器的存储压力</code>。</p> <p>1.2.1 什么是session</p> <p><strong>Session是另一种记录客户状态的机制，不同的是Cookie保存在客户端浏览器中，而Session保存在服务器上</strong>。客户端浏览器访问服务器的时候，服务器把客户端信息以某种形式记录在服务器上。这就是Session。客户端浏览器再次访问时只需要从该Session中查找该客户的状态就可以了。</p> <p>如果说<strong>Cookie机制是通过检查客户身上的“通行证”来确定客户身份的话，那么Session机制就是通过检查服务器上的“客户明细表”来确认客户身份。Session相当于程序在服务器上建立的一份客户档案，客户来访的时候只需要查询客户档案表就可以了。所以将用户的验证码保存在session中</strong>。</p> <p>1.2.2 实现用户登录</p> <p>Session对应的类为javax.servlet.http.HttpSession类。每个来访者对应一个Session对象，所有该客户的状态信息都保存在这个Session对象里。<strong>Session对象是在客户端第一次请求服务器的时候创建的</strong>。Session也是一种key-value的属性对，通过getAttribute(Stringkey)和setAttribute(String key，Objectvalue)方法读写客户状态信息。Servlet里通过request.getSession()方法获取该客户的Session，例如:</p> <p><img src="https://img-blog.csdnimg.cn/c36dcfb611b24137915133418ccc0105.png" alt="在这里插入图片描述"></p> <p><code>request</code>还可以使用getSession(boolean create)来获取Session。区别是如果该客户的Session不存在，request.getSession()方法会返回null，而getSession(true)会先创建Session再将Session返回。</p> <p>Servlet中必须使用request来编程式获取HttpSession对象，而JSP中内置了Session隐藏对象，可以直接使用。如果使用声明了&lt;%@page session=&quot;false&quot; %&gt;，则Session隐藏对象不可用。</p> <p>1.2.3 Session的生命周期</p> <p>Session的超时时间也可以在web.xml中修改。另外，通过调用Session的invalidate()方法可以使Session失效。<code>Session</code>保存在服务器端。<strong>为了获得更高的存取速度，服务器一般把Session放在内存里。每个用户都会有一个独立的Session。如果Session内容过于复杂，当大量客户访问服务器时可能会导致内存溢出。因此，Session里的信息应该尽量精简。</strong></p> <p><strong>Session在用户第一次访问服务器的时候自动创建</strong>。需要注意只有访问JSP、Servlet等程序时才会创建Session，只访问HTML、IMAGE等静态资源并不会创建Session。如果尚未生成Session，也可以使用request.getSession(true)强制生成Session。</p> <p><strong>Session生成后，只要用户继续访问，服务器就会更新Session的最后访问时间，并维护该Session</strong>。用户每访问服务器一次，无论是否读写Session，服务器都认为该用户的Session“活跃（active）”了一次。</p> <p>1.2.4 Session的有效期</p> <p>由于会有越来越多的用户访问服务器，因此<code>Session</code>也会越来越多。<strong>为防止内存溢出，服务器会把长时间内没有活跃的Session从内存删除。这个时间就是Session的超时时间。如果超过了超时时间没访问过服务器，Session就自动失效了。</strong></p> <p>Session的超时时间为maxInactiveInterval属性，可以通过对应的getMaxInactiveInterval()获取，通过setMaxInactiveInterval(longinterval)修改。</p> <p>Session的超时时间也可以在web.xml中修改。另外，通过调用Session的invalidate()方法可以使Session失效。</p> <p>1.2.5 Session的常用方法</p> <p>Session中包括各种方法，使用起来要比Cookie方便得多。Session的常用方法如表所示.</p> <p><img src="https://img-blog.csdnimg.cn/cf78b87beac54664a596a64095911925.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGVlZGNvZGVKb2huMDE=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p> <p>1.2.6 Session对浏览器的要求</p> <p>虽然Session保存在服务器，对客户端是透明的，它的正常运行仍然需要客户端浏览器的支持。这是因为Session需要使用Cookie作为识别标志。HTTP协议是无状态的，Session不能依据HTTP连接来判断是否为同一客户，因此服务器向客户端浏览器发送一个名为JSESSIONID的Cookie，它的值为该Session的id（也就是HttpSession.getId()的返回值）。Session依据该Cookie来识别是否为同一用户。</p> <p>该Cookie为服务器自动生成的，它的maxAge属性一般为–1，表示仅当前浏览器内有效，并且各浏览器窗口间不共享，关闭浏览器就会失效。</p> <p>因此同一机器的两个浏览器窗口访问服务器时，会生成两个不同的Session。但是由浏览器窗口内的链接、脚本等打开的新窗口（也就是说不是双击桌面浏览器图标等打开的窗口）除外。这类子窗口会共享父窗口的Cookie，因此会共享一个Session。</p> <p>注意：新开的浏览器窗口会生成新的Session，但子窗口除外。子窗口会共用父窗口的Session。例如，在链接上右击，在弹出的快捷菜单中选择“在新窗口中打开”时，子窗口便可以访问父窗口的Session。</p> <p>如果客户端浏览器将Cookie功能禁用，或者不支持Cookie怎么办？例如，绝大多数的手机浏览器都不支持Cookie。Java Web提供了另一种解决方案：URL地址重写。</p> <p><strong>就是说客户端为了能识别服务器端的session，服务器端给客户端颁发一个值为客户端sessionID的cookie，这样下次客户端访问服务器时，就可以携带上此cookie与服务器端的session匹配了。</strong></p> <p><img src="https://img-blog.csdnimg.cn/dbdca7c07b1847268b1b09a67398d779.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGVlZGNvZGVKb2huMDE=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p> <p>1.2.7 <code>URL</code>地址重写</p> <p>URL地址重写是对客户端不支持Cookie的解决方案。URL地址重写的原理是将该用户Session的id信息重写到URL地址中。服务器能够解析重写后的URL获取Session的id。这样即使客户端不支持Cookie，也可以使用Session来记录用户状态。</p> <p>2、Cookie和Session的区别</p> <ul><li><p>Cookie数据存档在客户的浏览器上，session数据放在服务器上；</p></li> <li><p>cookie不是很安全，别人可以分析存放在本地的Cookie并进行Cookie欺骗，考虑到安全应当使用session；</p></li></ul> <p>所以要进行cookie欺骗可以有多种途径：</p> <p>1、跳过浏览器，直接对通讯数据改写</p> <p>2、修改浏览器，让浏览器从本地可以读写任意域名cookie</p> <p>3、使用签名脚本，让浏览器从本地可以读写任意域名cookie（有安全问题）</p> <p>4、欺骗浏览器，让浏览器获得假的域名</p> <ul><li><p>设置cookie时间可以使cookie过期。但是使用session-destroy()，我们将会销毁会话；</p></li> <li><p>session会在一定时间内保存在服务器上。当访问增多，会比较占用服务器的性能，从性能角度考虑，应当使用cookie；</p></li> <li><p>单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。（Session对象没有对存储数量的限制，其中可以保存更为复杂的数据类型）。</p></li></ul></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/8/24 下午8:14:09</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/network/转发和重定向的区别.html" class="prev">
          转发和重定向区别
        </a></span> <span class="next"><a href="/network/DNS解析过程.html">
          DNS解析过程
        </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-2c0089e8><li class="level-3" data-v-2c0089e8><a href="/network/COOKIE%20and%20SESSION.html#cookie和session的区别" class="sidebar-link reco-side-cookie和session的区别" data-v-2c0089e8>Cookie和session的区别</a></li></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/assets/js/app.13bf33ce.js" defer></script><script src="/assets/js/3.583d0c72.js" defer></script><script src="/assets/js/1.eb42dbb0.js" defer></script><script src="/assets/js/190.06fa3c54.js" defer></script>
  </body>
</html>
