<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符串常量池 | Auraro&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="面向对象面向君，不负代码不负卿。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="AuraroJ,博客,conimi,nico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.f7a51907.css" as="style"><link rel="preload" href="/assets/js/app.bb08115f.js" as="script"><link rel="preload" href="/assets/js/3.583d0c72.js" as="script"><link rel="preload" href="/assets/js/1.eb42dbb0.js" as="script"><link rel="preload" href="/assets/js/89.e2928c4d.js" as="script"><link rel="prefetch" href="/assets/js/10.5cde4a25.js"><link rel="prefetch" href="/assets/js/100.75d8cc25.js"><link rel="prefetch" href="/assets/js/101.07aef68f.js"><link rel="prefetch" href="/assets/js/102.6be744c5.js"><link rel="prefetch" href="/assets/js/103.023b2c9f.js"><link rel="prefetch" href="/assets/js/104.cce0b172.js"><link rel="prefetch" href="/assets/js/105.c68ec71c.js"><link rel="prefetch" href="/assets/js/106.d8cd02e9.js"><link rel="prefetch" href="/assets/js/107.10ab63dc.js"><link rel="prefetch" href="/assets/js/108.c194d7a0.js"><link rel="prefetch" href="/assets/js/109.2ce7e1ec.js"><link rel="prefetch" href="/assets/js/11.00989c85.js"><link rel="prefetch" href="/assets/js/110.88e49ffa.js"><link rel="prefetch" href="/assets/js/111.83497f18.js"><link rel="prefetch" href="/assets/js/112.f0ab65da.js"><link rel="prefetch" href="/assets/js/113.1d693a7a.js"><link rel="prefetch" href="/assets/js/114.4c0138cc.js"><link rel="prefetch" href="/assets/js/115.a9b632ba.js"><link rel="prefetch" href="/assets/js/116.7b278849.js"><link rel="prefetch" href="/assets/js/117.d551d77f.js"><link rel="prefetch" href="/assets/js/118.446c75f9.js"><link rel="prefetch" href="/assets/js/119.159faacb.js"><link rel="prefetch" href="/assets/js/12.089cc736.js"><link rel="prefetch" href="/assets/js/120.993eb659.js"><link rel="prefetch" href="/assets/js/121.91eabb47.js"><link rel="prefetch" href="/assets/js/122.5dd0e20b.js"><link rel="prefetch" href="/assets/js/123.bf8487e0.js"><link rel="prefetch" href="/assets/js/124.ef736623.js"><link rel="prefetch" href="/assets/js/125.3551f34f.js"><link rel="prefetch" href="/assets/js/126.22f20917.js"><link rel="prefetch" href="/assets/js/127.70b4085f.js"><link rel="prefetch" href="/assets/js/128.fce6d6c1.js"><link rel="prefetch" href="/assets/js/129.eebeeeab.js"><link rel="prefetch" href="/assets/js/13.d19e71e7.js"><link rel="prefetch" href="/assets/js/130.85411c7a.js"><link rel="prefetch" href="/assets/js/131.3fca59eb.js"><link rel="prefetch" href="/assets/js/132.25b456b1.js"><link rel="prefetch" href="/assets/js/133.ec7f2575.js"><link rel="prefetch" href="/assets/js/134.6eb7d7b9.js"><link rel="prefetch" href="/assets/js/135.af6d168b.js"><link rel="prefetch" href="/assets/js/136.8be0a8ae.js"><link rel="prefetch" href="/assets/js/137.77d58955.js"><link rel="prefetch" href="/assets/js/138.b8831210.js"><link rel="prefetch" href="/assets/js/139.cb137b06.js"><link rel="prefetch" href="/assets/js/14.add2b9d1.js"><link rel="prefetch" href="/assets/js/140.ce022ddc.js"><link rel="prefetch" href="/assets/js/141.eb1ca496.js"><link rel="prefetch" href="/assets/js/142.7b71b730.js"><link rel="prefetch" href="/assets/js/143.bd7e5c17.js"><link rel="prefetch" href="/assets/js/144.dd4a340f.js"><link rel="prefetch" href="/assets/js/145.88dc409a.js"><link rel="prefetch" href="/assets/js/146.587cf339.js"><link rel="prefetch" href="/assets/js/147.0c6cb42f.js"><link rel="prefetch" href="/assets/js/148.cde21382.js"><link rel="prefetch" href="/assets/js/149.57eb32ce.js"><link rel="prefetch" href="/assets/js/15.a7aa72c2.js"><link rel="prefetch" href="/assets/js/150.13c70aa7.js"><link rel="prefetch" href="/assets/js/151.860bec6e.js"><link rel="prefetch" href="/assets/js/152.a773d846.js"><link rel="prefetch" href="/assets/js/153.b79da999.js"><link rel="prefetch" href="/assets/js/154.90f51676.js"><link rel="prefetch" href="/assets/js/155.85fc9cca.js"><link rel="prefetch" href="/assets/js/156.55b47274.js"><link rel="prefetch" href="/assets/js/157.7efb004d.js"><link rel="prefetch" href="/assets/js/158.0da04a2c.js"><link rel="prefetch" href="/assets/js/159.846f8392.js"><link rel="prefetch" href="/assets/js/16.1ca91cef.js"><link rel="prefetch" href="/assets/js/160.1162f9b8.js"><link rel="prefetch" href="/assets/js/161.daace554.js"><link rel="prefetch" href="/assets/js/162.c76db0ce.js"><link rel="prefetch" href="/assets/js/163.2922410c.js"><link rel="prefetch" href="/assets/js/164.d8677450.js"><link rel="prefetch" href="/assets/js/165.c1cd35cf.js"><link rel="prefetch" href="/assets/js/166.34353f65.js"><link rel="prefetch" href="/assets/js/167.53b5f90d.js"><link rel="prefetch" href="/assets/js/168.d1372efa.js"><link rel="prefetch" href="/assets/js/169.44b88d34.js"><link rel="prefetch" href="/assets/js/17.bfc3e676.js"><link rel="prefetch" href="/assets/js/170.2b7c10df.js"><link rel="prefetch" href="/assets/js/171.5d9bfbf8.js"><link rel="prefetch" href="/assets/js/172.83f4beda.js"><link rel="prefetch" href="/assets/js/173.672f9679.js"><link rel="prefetch" href="/assets/js/174.854c72cd.js"><link rel="prefetch" href="/assets/js/175.4bb04152.js"><link rel="prefetch" href="/assets/js/176.3cf0876d.js"><link rel="prefetch" href="/assets/js/177.479a4ce4.js"><link rel="prefetch" href="/assets/js/178.f4236b6b.js"><link rel="prefetch" href="/assets/js/179.0ffac3fc.js"><link rel="prefetch" href="/assets/js/18.a7ccbc8f.js"><link rel="prefetch" href="/assets/js/180.0349746e.js"><link rel="prefetch" href="/assets/js/181.b382b91a.js"><link rel="prefetch" href="/assets/js/182.45ea1be0.js"><link rel="prefetch" href="/assets/js/183.d97ff0f2.js"><link rel="prefetch" href="/assets/js/184.04db3fa2.js"><link rel="prefetch" href="/assets/js/185.06886175.js"><link rel="prefetch" href="/assets/js/186.1e507894.js"><link rel="prefetch" href="/assets/js/187.2d443b36.js"><link rel="prefetch" href="/assets/js/188.47ac887d.js"><link rel="prefetch" href="/assets/js/189.588ea60e.js"><link rel="prefetch" href="/assets/js/19.fb710d2b.js"><link rel="prefetch" href="/assets/js/190.427f20ae.js"><link rel="prefetch" href="/assets/js/191.74e4417a.js"><link rel="prefetch" href="/assets/js/192.ecd17749.js"><link rel="prefetch" href="/assets/js/193.34698712.js"><link rel="prefetch" href="/assets/js/194.3af39153.js"><link rel="prefetch" href="/assets/js/195.e2d999ff.js"><link rel="prefetch" href="/assets/js/196.2585faf4.js"><link rel="prefetch" href="/assets/js/197.1b4f726d.js"><link rel="prefetch" href="/assets/js/198.78a41910.js"><link rel="prefetch" href="/assets/js/199.13fc9f5f.js"><link rel="prefetch" href="/assets/js/20.9b50ffb2.js"><link rel="prefetch" href="/assets/js/200.704d8809.js"><link rel="prefetch" href="/assets/js/201.4e7b7c78.js"><link rel="prefetch" href="/assets/js/202.5b83bc37.js"><link rel="prefetch" href="/assets/js/203.20cafd87.js"><link rel="prefetch" href="/assets/js/204.e13a329c.js"><link rel="prefetch" href="/assets/js/205.70cbfd9d.js"><link rel="prefetch" href="/assets/js/206.b24a6498.js"><link rel="prefetch" href="/assets/js/207.c1f54a7b.js"><link rel="prefetch" href="/assets/js/208.b42ff2a7.js"><link rel="prefetch" href="/assets/js/209.025d3bc5.js"><link rel="prefetch" href="/assets/js/21.7fc2c3c0.js"><link rel="prefetch" href="/assets/js/210.fdac89cc.js"><link rel="prefetch" href="/assets/js/211.856ce748.js"><link rel="prefetch" href="/assets/js/212.b3203755.js"><link rel="prefetch" href="/assets/js/213.6573a28e.js"><link rel="prefetch" href="/assets/js/214.2134f64a.js"><link rel="prefetch" href="/assets/js/215.083a9e85.js"><link rel="prefetch" href="/assets/js/216.57a091f2.js"><link rel="prefetch" href="/assets/js/217.cfad87ef.js"><link rel="prefetch" href="/assets/js/218.d84ebfbf.js"><link rel="prefetch" href="/assets/js/219.839d2285.js"><link rel="prefetch" href="/assets/js/22.715a7176.js"><link rel="prefetch" href="/assets/js/220.d12122eb.js"><link rel="prefetch" href="/assets/js/221.2bbdc524.js"><link rel="prefetch" href="/assets/js/222.ffb4c7db.js"><link rel="prefetch" href="/assets/js/223.d6779006.js"><link rel="prefetch" href="/assets/js/224.ca7b9a36.js"><link rel="prefetch" href="/assets/js/225.65f7cf7a.js"><link rel="prefetch" href="/assets/js/226.2f8fc6e2.js"><link rel="prefetch" href="/assets/js/227.a3ee9541.js"><link rel="prefetch" href="/assets/js/228.fa88d7b3.js"><link rel="prefetch" href="/assets/js/229.d2287ac3.js"><link rel="prefetch" href="/assets/js/23.7cc08dae.js"><link rel="prefetch" href="/assets/js/230.78a12551.js"><link rel="prefetch" href="/assets/js/231.29c15b3f.js"><link rel="prefetch" href="/assets/js/232.4d55e308.js"><link rel="prefetch" href="/assets/js/233.fe9f330b.js"><link rel="prefetch" href="/assets/js/234.3cd7f9e8.js"><link rel="prefetch" href="/assets/js/235.88874d60.js"><link rel="prefetch" href="/assets/js/236.d30e0441.js"><link rel="prefetch" href="/assets/js/237.5bceaca4.js"><link rel="prefetch" href="/assets/js/238.d72d8310.js"><link rel="prefetch" href="/assets/js/239.7610035e.js"><link rel="prefetch" href="/assets/js/24.039ee5f1.js"><link rel="prefetch" href="/assets/js/240.12b18259.js"><link rel="prefetch" href="/assets/js/241.e3d28483.js"><link rel="prefetch" href="/assets/js/242.3f37dd43.js"><link rel="prefetch" href="/assets/js/243.ada242d5.js"><link rel="prefetch" href="/assets/js/244.77d0d090.js"><link rel="prefetch" href="/assets/js/245.1c5cb9be.js"><link rel="prefetch" href="/assets/js/246.8d72f493.js"><link rel="prefetch" href="/assets/js/247.00962acf.js"><link rel="prefetch" href="/assets/js/248.f8f7aaf9.js"><link rel="prefetch" href="/assets/js/249.980b6ec6.js"><link rel="prefetch" href="/assets/js/25.dec20d17.js"><link rel="prefetch" href="/assets/js/250.c61aee6f.js"><link rel="prefetch" href="/assets/js/251.f096bb18.js"><link rel="prefetch" href="/assets/js/252.0663ea3d.js"><link rel="prefetch" href="/assets/js/253.be02497e.js"><link rel="prefetch" href="/assets/js/254.7af2d67c.js"><link rel="prefetch" href="/assets/js/255.7c4ba5e4.js"><link rel="prefetch" href="/assets/js/256.99a3a5a3.js"><link rel="prefetch" href="/assets/js/257.496e55b4.js"><link rel="prefetch" href="/assets/js/258.0e780483.js"><link rel="prefetch" href="/assets/js/259.5e859f0e.js"><link rel="prefetch" href="/assets/js/26.aad5fbf0.js"><link rel="prefetch" href="/assets/js/260.301554ac.js"><link rel="prefetch" href="/assets/js/261.80b7eca1.js"><link rel="prefetch" href="/assets/js/262.eaaba93a.js"><link rel="prefetch" href="/assets/js/263.af5b179f.js"><link rel="prefetch" href="/assets/js/264.219ac8df.js"><link rel="prefetch" href="/assets/js/265.7ec04094.js"><link rel="prefetch" href="/assets/js/266.8c34db6a.js"><link rel="prefetch" href="/assets/js/267.db88eae1.js"><link rel="prefetch" href="/assets/js/268.fccf8b81.js"><link rel="prefetch" href="/assets/js/269.7edf2854.js"><link rel="prefetch" href="/assets/js/27.0d3eeb1c.js"><link rel="prefetch" href="/assets/js/270.27ba6bda.js"><link rel="prefetch" href="/assets/js/271.b52774aa.js"><link rel="prefetch" href="/assets/js/272.63c82e0b.js"><link rel="prefetch" href="/assets/js/273.2b2b816a.js"><link rel="prefetch" href="/assets/js/274.1420285e.js"><link rel="prefetch" href="/assets/js/275.20c3ffb2.js"><link rel="prefetch" href="/assets/js/276.ba2ba72d.js"><link rel="prefetch" href="/assets/js/277.ca678acc.js"><link rel="prefetch" href="/assets/js/278.b76a2675.js"><link rel="prefetch" href="/assets/js/279.32c5b1ab.js"><link rel="prefetch" href="/assets/js/28.037ed440.js"><link rel="prefetch" href="/assets/js/280.ee764623.js"><link rel="prefetch" href="/assets/js/281.296dd9d9.js"><link rel="prefetch" href="/assets/js/282.60ce8d90.js"><link rel="prefetch" href="/assets/js/283.2a5b9e15.js"><link rel="prefetch" href="/assets/js/284.6b7af45b.js"><link rel="prefetch" href="/assets/js/285.415ab5cd.js"><link rel="prefetch" href="/assets/js/286.bc0040ae.js"><link rel="prefetch" href="/assets/js/29.e52a9d90.js"><link rel="prefetch" href="/assets/js/30.5236c1bc.js"><link rel="prefetch" href="/assets/js/31.47ca8aab.js"><link rel="prefetch" href="/assets/js/32.a7a02a99.js"><link rel="prefetch" href="/assets/js/33.65976515.js"><link rel="prefetch" href="/assets/js/34.2da58a6a.js"><link rel="prefetch" href="/assets/js/35.5284e75e.js"><link rel="prefetch" href="/assets/js/36.446ea69b.js"><link rel="prefetch" href="/assets/js/37.6170733e.js"><link rel="prefetch" href="/assets/js/38.4e800202.js"><link rel="prefetch" href="/assets/js/39.1729ae1c.js"><link rel="prefetch" href="/assets/js/4.10543b34.js"><link rel="prefetch" href="/assets/js/40.f6d02ad2.js"><link rel="prefetch" href="/assets/js/41.bb74528d.js"><link rel="prefetch" href="/assets/js/42.06cea1eb.js"><link rel="prefetch" href="/assets/js/43.77b26dc8.js"><link rel="prefetch" href="/assets/js/44.15101d20.js"><link rel="prefetch" href="/assets/js/45.1f3d695e.js"><link rel="prefetch" href="/assets/js/46.3396517f.js"><link rel="prefetch" href="/assets/js/47.aaa8a50e.js"><link rel="prefetch" href="/assets/js/48.a1986c37.js"><link rel="prefetch" href="/assets/js/49.db5b026a.js"><link rel="prefetch" href="/assets/js/5.d0f450bd.js"><link rel="prefetch" href="/assets/js/50.40ac975f.js"><link rel="prefetch" href="/assets/js/51.c36c9269.js"><link rel="prefetch" href="/assets/js/52.40d65fd0.js"><link rel="prefetch" href="/assets/js/53.c165027a.js"><link rel="prefetch" href="/assets/js/54.6568d816.js"><link rel="prefetch" href="/assets/js/55.b22b5348.js"><link rel="prefetch" href="/assets/js/56.c8d66f18.js"><link rel="prefetch" href="/assets/js/57.2360da04.js"><link rel="prefetch" href="/assets/js/58.002a9b2f.js"><link rel="prefetch" href="/assets/js/59.80ea1446.js"><link rel="prefetch" href="/assets/js/6.24060e60.js"><link rel="prefetch" href="/assets/js/60.2ffa491c.js"><link rel="prefetch" href="/assets/js/61.d1ba9295.js"><link rel="prefetch" href="/assets/js/62.77818eb4.js"><link rel="prefetch" href="/assets/js/63.37359d58.js"><link rel="prefetch" href="/assets/js/64.8815086a.js"><link rel="prefetch" href="/assets/js/65.7a939c94.js"><link rel="prefetch" href="/assets/js/66.e49d453d.js"><link rel="prefetch" href="/assets/js/67.6aceb9b9.js"><link rel="prefetch" href="/assets/js/68.98753229.js"><link rel="prefetch" href="/assets/js/69.07dfa16b.js"><link rel="prefetch" href="/assets/js/7.b8bf6b3f.js"><link rel="prefetch" href="/assets/js/70.9da04b45.js"><link rel="prefetch" href="/assets/js/71.59a42831.js"><link rel="prefetch" href="/assets/js/72.7d4af0fa.js"><link rel="prefetch" href="/assets/js/73.c0481ff8.js"><link rel="prefetch" href="/assets/js/74.3c19f028.js"><link rel="prefetch" href="/assets/js/75.eb0b4a24.js"><link rel="prefetch" href="/assets/js/76.32002664.js"><link rel="prefetch" href="/assets/js/77.6146716f.js"><link rel="prefetch" href="/assets/js/78.d7fc6256.js"><link rel="prefetch" href="/assets/js/79.841f0d44.js"><link rel="prefetch" href="/assets/js/8.024a3703.js"><link rel="prefetch" href="/assets/js/80.04f40382.js"><link rel="prefetch" href="/assets/js/81.baf9eaf4.js"><link rel="prefetch" href="/assets/js/82.82e2cd4b.js"><link rel="prefetch" href="/assets/js/83.508e9bc6.js"><link rel="prefetch" href="/assets/js/84.ff8f727a.js"><link rel="prefetch" href="/assets/js/85.b88ebfaf.js"><link rel="prefetch" href="/assets/js/86.68de79a4.js"><link rel="prefetch" href="/assets/js/87.4f2ac4cc.js"><link rel="prefetch" href="/assets/js/88.221a9d92.js"><link rel="prefetch" href="/assets/js/9.d630a5e2.js"><link rel="prefetch" href="/assets/js/90.09bb8952.js"><link rel="prefetch" href="/assets/js/91.27f5fda2.js"><link rel="prefetch" href="/assets/js/92.a9fb67dd.js"><link rel="prefetch" href="/assets/js/93.5bd59d9e.js"><link rel="prefetch" href="/assets/js/94.ff1cee5f.js"><link rel="prefetch" href="/assets/js/95.2d7759a8.js"><link rel="prefetch" href="/assets/js/96.5b1279d7.js"><link rel="prefetch" href="/assets/js/97.c4efd893.js"><link rel="prefetch" href="/assets/js/98.a49b59f7.js"><link rel="prefetch" href="/assets/js/99.1653d757.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f7a51907.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-11f94078><div data-v-11f94078><div class="password-shadow password-wrapper-out" style="display:none;" data-v-08f61db9 data-v-11f94078 data-v-11f94078><h3 class="title" data-v-08f61db9>Auraro's Blog</h3> <p class="description" data-v-08f61db9>面向对象面向君，不负代码不负卿。</p> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <!---->
        2022
      </a></span></div></div> <div class="hide" data-v-11f94078><header class="navbar" data-v-11f94078><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Auraro's Blog" class="logo"> <span class="site-name">Auraro's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/review.html" class="nav-link"><i class="iconfont reco-blog"></i>
  回顾
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-11f94078></div> <aside class="sidebar" data-v-11f94078><div class="personal-info-wrapper" data-v-3d87d2e4 data-v-11f94078><img src="/logo.png" alt="author-avatar" class="personal-img" data-v-3d87d2e4> <h3 class="name" data-v-3d87d2e4>
    AuraroJ
  </h3> <div class="num" data-v-3d87d2e4><div data-v-3d87d2e4><h3 data-v-3d87d2e4>65</h3> <h6 data-v-3d87d2e4>文章</h6></div> <div data-v-3d87d2e4><h3 data-v-3d87d2e4>29</h3> <h6 data-v-3d87d2e4>标签</h6></div></div> <ul class="social-links" data-v-3d87d2e4></ul> <hr data-v-3d87d2e4></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/review.html" class="nav-link"><i class="iconfont reco-blog"></i>
  回顾
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>概述</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>综述</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/" aria-current="page" class="sidebar-link">综述</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java-Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JUC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JVM</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-08f61db9 data-v-11f94078><h3 class="title" data-v-08f61db9>字符串常量池</h3> <!----> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <!---->
        2022
      </a></span></div></div> <div data-v-11f94078><div data-v-11f94078><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">字符串常量池</h1> <div data-v-162cc157><i class="iconfont reco-account" data-v-162cc157><span data-v-162cc157>AuraroJ</span></i> <i class="iconfont reco-date" data-v-162cc157><span data-v-162cc157>2022/3/8</span></i> <i class="iconfont reco-eye" data-v-162cc157><span id="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-162cc157><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h3 id="int和integer区别"><a href="#int和integer区别" class="header-anchor">#</a> Int和Integer区别</h3> <p><strong>1、区别</strong></p> <ul><li><p>Integer是包装类，int则是java的一种基本数据类型</p></li> <li><p>Integer本身是类，必须实例化对象后才能使用</p></li> <li><p>Integer实际是对象的引用，当new一个Integer时，实际上是生成一个指针指向此对象；而int则是直接存储数据值</p></li> <li><p>Integer的默认值是null，int的默认值是0</p></li></ul> <p><strong>2、延伸</strong></p> <ol><li><p>非new生成的Integer变量指向的是java常量池中的对象，而new Integer()生成的变量指向堆中新建的对象，两者在内存中的地址不同</p></li> <li><p>两个非new 生成的Integer对象，进行比较时，如果两个**变量的值在区间-128~127之间时，则比较结果为true，如果两个值不在此区间内，则比较结果为false</p></li></ol> <p>原因：</p> <p>JVM会自动维护八种基本类型的常量池，int常量池中初始化-128~127的范围，所以当为Integer i=127时，在自动装箱过程中是取自常量池中的数值，而当Integer i=128时，128不在常量池范围内，所以在自动装箱过程中需new 128，所以地址不一样。
INT型常量存放在Class常量池。**</p> <h3 id="八种数据类型和常量池"><a href="#八种数据类型和常量池" class="header-anchor">#</a> 八种数据类型和常量池</h3> <p>Java语言提供了八种基本类型。 整数类型 byte 8位、short 16位、int 32位和 long 64位，以及浮点类型 float 32位和 double 64位，无符号char 16位和boolean 。</p> <p>对于存储 boolean 数组的字节码，Java 虚拟机需保证实际存入的值是整数 1 或者 0。 尽管他们的默认值看起来不一样，但在内存中都是 0。在这些基本类型中，boolean 和 char 是唯二的无符号类型。</p> <h3 id="自动拆箱与装箱"><a href="#自动拆箱与装箱" class="header-anchor">#</a> 自动拆箱与装箱</h3> <p>在八种包装类型中，每一种包装类型都提供了两个方法：</p> <p>静态方法valueOf(基本类型)：将给定的基本类型转换成对应的包装类型；</p> <p>实例方法xxxValue()：将具体的包装类型对象转换成基本类型； 下面我们以int和Integer为例，说明Java中自动装箱与自动拆箱的实现机制。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//code1</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span>  a1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用反编译工具JD-GUI，将生成的Class文件在反编译为Java文件</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//code2</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> a1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>可以看到经过javac编译之后，code1的代码被转换成了code2，实际运行时，虚拟机运行的就是code2的代码。也就是说，虚拟机根本不知道有自动拆箱和自动装箱这回事；</p> <p><strong>在将Java源文件编译为class文件的过程中，javac编译器在自动装箱的时候，调用了Integer.valueOf()方法，在自动拆箱时，又调用了intValue()方法。</strong></p> <p>实现总结：其实自动装箱和自动封箱是<code>编译器为我们提供的一颗语法糖</code>。在自动装箱时，编译器调用包装类型的valueOf()方法；在自动拆箱时，编译器调用了相应的xxxValue()方法。</p> <h3 id="基本类型缓存-常量池"><a href="#基本类型缓存-常量池" class="header-anchor">#</a> 基本类型缓存（常量池）</h3> <p><img src="https://img-blog.csdnimg.cn/7dc71aea811948638874faf62ebffbeb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGVlZGNvZGVKb2huMDE=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p> <p>重点是静态内部类IntegerCache ，它是用来缓存数据的。它有一个数组，里面保存的是连续的Integer对象。cache[low,high] 默认是[-128, 127]。</p> <p>调用valueOf(inti)方法时，首先判断i是否在[low,high]之间，如果是，则复用Integer.cache[i-low]。比如，如果Integer.valueOf(3)，直接返回Integer.cache[131]；如果i不在这个范围，则调用构造方法，构造出一个新的Integer对象。默认情况下，在使用自动装箱时，JVM会复用[-128,127]之间的Integer对象。</p> <p><img src="https://img-blog.csdnimg.cn/01116fadd9df4f9b864646cec094932d.png" alt="在这里插入图片描述"></p> <h3 id="字符串常量池"><a href="#字符串常量池" class="header-anchor">#</a> 字符串常量池</h3> <p><strong>字符串常量池是全局的，JVM 中独此一份，因此也称为全局字符串常量池。</strong></p> <p>Java6中JVM内存分配，字符串常量池在永久代中。【方法区中】</p> <p>Java7中JVM内存分配，字符串常量池在heap(堆)中的老年代中。</p> <p>Java8中，取消了“永久代”，将常量池放在元空间，与堆独立了</p> <p>String.intern()在JDK1.6中，会先判断常量池中是否存在当前字符串，不存在就会将当前字符串复制到常量池，并返回常量池中字符串的引用。</p> <p>而JDK1.7以后，会先判断常量池中是否存在当前字符串，不存在时不会将当前字符串复制到常量池，只是当前字符串的引用。如果存在，也不会改变存在的引用，以及只会保存首次存储的字符串的引用。如上代码所示，常量池保存的是str1的引用，即使str2调用intern()方法，返回的也是str1的引用。</p> <ul><li>Java中两种创建字符串对象的方式的分析</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1<span class="token operator">=</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2<span class="token operator">=</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">==</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>结果是 true；</p> <p>采用字面值的方式创建一个字符串时，JVM串池中的&quot;abc&quot;对象，所以结果为true。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s3<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;xyz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s4<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;xyz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3<span class="token operator">==</span>s4<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>结果是 false</p> <p>采用new关键字新建一个字符串对象时，JVM首先在字符串池中查找有没有&quot;xyz&quot;这个字符串对象，如果有，则不在池中再去创建&quot;xyz&quot;这个对象了，直接在堆中创建一个&quot;xyz&quot;字符串对象，然后将堆中的这个&quot;xyz&quot;对象的地址返回赋给引用s3，这样，s3就指向了堆中创建的这个&quot;xyz&quot;字符串对象；如果没有，则首先在字符串池中创建一个&quot;xyz&quot;字符串对象，然后再在堆中创建一个&quot;xyz&quot;字符串对象，然后将堆中这个&quot;xyz&quot;字符串对象的地址返回赋给s3引用，这样，s3指向了堆中创建的这个&quot;xyz&quot;字符串对象。s4则指向了堆中创建的另一个&quot;xyz&quot;字符串对象。s3 、s4是两个指向不同对象的引用，结果当然是false。</p> <p><strong>也就是说，当我们使用new关键字来创建字符串对象之后，字符串对象会被存入字符串常量池中。</strong></p> <h3 id="intern的实现原理-jdk1-8"><a href="#intern的实现原理-jdk1-8" class="header-anchor">#</a> Intern的实现原理（JDK1.8）</h3> <p>String#intern方法中看到，这个方法是一个 native 的方法，但注释写的非常明了。“ 当调用 intern方法时，如果池已经包含一个等于此String对象的字符串（用equals(oject)方法确定），则返回池中的字符串。否则，将此String对象添加到池中，并返回此String对象的引用。“</p> <p>代码:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Strings1</span><span class="token operator">=</span><span class="token function">newString</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*上述代码：
  在字符串常量池中先查找是否有值为&quot;abc&quot;的字符串对象若没有则在对中创建一个字符串对象&quot;abc&quot;，同时在字符串常量池中
  也创建一个&quot;abc&quot;对象，但此时s1对象指向的是堆内存中的&quot;abc&quot;
  */</span>
<span class="token class-name">Strings2</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*调用字符串“abc”的intern()本地方法，此时会去字符串常量池中找有没有值为&quot;abc&quot;的字符串，若有则直接将串池中的对象返回
  若此时字符串常量池中没有&quot;abc&quot;的字符串，则在池中创建该字符串对象并返回*/</span>
<span class="token class-name">Strings3</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Strings4</span><span class="token operator">=</span><span class="token string">&quot;cef&quot;</span><span class="token punctuation">;</span>
<span class="token comment">/*
   *不使用new关键字，直接使用字面值赋值时，会先去字符串常量池中查找是否有该值，如果有直接返回池中对象，如果没有则在池中创建
   *该对象并返回
   **/</span>
<span class="token class-name">Strings5</span><span class="token operator">=</span><span class="token string">&quot;cef&quot;</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">==</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token operator">==</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s4<span class="token operator">==</span>s5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>代码示例</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s3<span class="token operator">=</span>s1<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">==</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token operator">==</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">==</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token comment">//第二种情况</span>
<span class="token class-name">String</span> s6<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s5<span class="token operator">=</span>s3<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s4<span class="token operator">=</span><span class="token string">&quot;11&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s6<span class="token operator">==</span>s4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//JDK1.7:true;JDK1.8:false</span>
<span class="token comment">/*Strings3=newString(&quot;1&quot;)+newString(&quot;1&quot;);
  首先分析一下这句代码的执行，第一个newString(&quot;1&quot;)会在字符串常量池和堆内存中创建两个对象,
  第二个newString(&quot;1&quot;)此时因为在方法区中【方法区就是字符串常量池所在】已经存在了字符串“1”对象，
  所以不会再方法区中创建，但是仍然会在堆内存中创建字符串“1”对象。
  但是newString(&quot;1&quot;)+newString(&quot;1&quot;)会在堆中创建一个对象（假设名称为obj）,
  对象的内容为&quot;11&quot;,s3指向新创建的obj对象；s3.intern();
  这行代码在JDK1.6及其以前的版本中的执行情况是，
  首先会去字符串常量池中寻找是否已经包含一个等于此String对象（“11”）的字符串（用equals(oject)方法确定），
  因为在常量池中没有，将s3中的“11”字符串放入String常量池中，
  在常量池中生成一个“11”的对象；关键点是jdk7常量池中不需要再存储一份对象了，
  可以直接存储堆中的引用。这份引用指向s3引用的对象。也就是说引用地址是相同的；
  Strings4=&quot;11&quot;;这句代码会在字符串常量池中找&quot;11&quot;对象，
  因为前面intern()方法执行过了，所以此时返回的是s3引用对象的的引用，
  也就是&quot;11&quot;对象的地址；所以此时s3==s4为true*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="native方法"><a href="#native方法" class="header-anchor">#</a> Native方法</h3> <p>想必读者已经了解过native关键字了。这里笔者就大致囊括一下，<code>被native关键字修饰的方法叫做本地方法</code>，本地方法和其它方法不一样，本地方法意味着和平台有关，因此使用了native的程序可移植性都不太高。另外native方法在JVM中运行时数据区也和其它方法不一样，<code>它有专门的本地方法栈</code>。native方法主要用于加载文件和动态链接库，由于Java语言无法访问操作系统底层信息（比如：底层硬件设备等），这时候就需要借助C语言来完成了。被native修饰的方法可以被C语言重写。</p> <h3 id="几种常量池的区别"><a href="#几种常量池的区别" class="header-anchor">#</a> 几种常量池的区别</h3> <ul><li><p>1.全局常量池在每个JVM中只有一份，存放的是字符串常量的引用值。</p></li> <li><p>2.class常量池是在编译的时候每个class都有的，在编译阶段，存放的是常量的符号引用。</p></li> <li><p>3.运行时常量池是在类加载完成之后，将每个class常量池中的符号引用值转存到运行时常量池中，也就是说，每个class都有一个运行时常量池，类在解析之后，将符号引用替换成直接引用，与全局常量池中的引用值保持一致</p></li></ul> <p>Java中的常量池，实际上分为两种形态：静态常量池和运行时常量池。</p> <p>所谓静态常量池，即*.class文件中的常量池，class文件中的常量池不仅仅包含字符串(数字)字面量，还包含类、方法的信息，占用class文件绝大部分空间。</p> <p>而运行时常量池，则是jvm虚拟机在完成类装载操作后，将class文件中的常量池载入到内存中，并保存在方法区中，我们常说的常量池，就是指方法区中的运行时常量池。</p> <p>在JDK1.7之前运行时常量池逻辑包含字符串常量池存放在方法区, 此时hotspot虚拟机对方法区的实现为永久代在JDK1.7 字符串常量池被从方法区拿到了堆中, 这里没有提到运行时常量池,也就是说字符串常量池被单独拿到堆,运行时常量池剩下的东西还在方法区, 也就是hotspot中的永久代</p> <p>在JDK1.8 hotspot移除了永久代用元空间(Metaspace)取而代之, 这时候字符串常量池还在堆, 运行时常量池还在方法区, 只不过方法区的实现从永久代变成了元空间(Metaspace)</p> <p><strong>Class常量池中的常量池是静态的常量池，在编译后存在
当.class文件在jvm虚拟机上加载后，常量池变为运行时常量池（其实字符串常量池就是运行时常量池）字符串常量池和运行时常量池是相容的概念，他们与class常量池是java常量池不同时期的体现</strong></p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/8/24 下午8:14:09</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/Java/JVM/四钟引用.html" class="prev">
          四种引用
        </a></span> <span class="next"><a href="/Java/JVM/class常量池.html">
          class常量池
        </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-2c0089e8><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#int和integer区别" class="sidebar-link reco-side-int和integer区别" data-v-2c0089e8>Int和Integer区别</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#八种数据类型和常量池" class="sidebar-link reco-side-八种数据类型和常量池" data-v-2c0089e8>八种数据类型和常量池</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#自动拆箱与装箱" class="sidebar-link reco-side-自动拆箱与装箱" data-v-2c0089e8>自动拆箱与装箱</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#基本类型缓存-常量池" class="sidebar-link reco-side-基本类型缓存-常量池" data-v-2c0089e8>基本类型缓存（常量池）</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#字符串常量池" class="sidebar-link reco-side-字符串常量池" data-v-2c0089e8>字符串常量池</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#intern的实现原理-jdk1-8" class="sidebar-link reco-side-intern的实现原理-jdk1-8" data-v-2c0089e8>Intern的实现原理（JDK1.8）</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#native方法" class="sidebar-link reco-side-native方法" data-v-2c0089e8>Native方法</a></li><li class="level-3" data-v-2c0089e8><a href="/Java/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html#几种常量池的区别" class="sidebar-link reco-side-几种常量池的区别" data-v-2c0089e8>几种常量池的区别</a></li></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/assets/js/app.bb08115f.js" defer></script><script src="/assets/js/3.583d0c72.js" defer></script><script src="/assets/js/1.eb42dbb0.js" defer></script><script src="/assets/js/89.e2928c4d.js" defer></script>
  </body>
</html>
