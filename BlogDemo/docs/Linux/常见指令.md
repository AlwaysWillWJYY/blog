---
title: Linux 常见指令
date: 2022-03-18

---

### Linux一切皆文件

<hr>

#### Linux目录介绍

<hr>

* `bin`: binary，含义是二进制，该目录中存储的都是一些二进制文件，文件都是可执行的。

* `Dev`: 该目录中主要存放的是外接设备，例如U盘，光盘等，其中的外接设备不能直接使用，需要挂载;
 
* `Etc`: 该目录中主要存储一些配置文件；

* `Home`: 表示“家”，表示除Root用户以外其他用户的家目录，类似于`Windows`下的`User`用户目录；

* `Proc`: `process`，表示进程，该目录中存储的是`Linux`运行时候的进程；

* `Root`: 该目录是`Root`用户自己的家目录；

* `sbin`: super用户存放二进制文件的地方;

* `tmp`: 存放一些临时文件;

* `usr`: 存放自己安装的软件。类似于`Windows`下的`program files`;

* `var`: 存放的程序/系统的日志文件的目录;

* `mnt`: 当外接设备需要挂载时，就需要挂载到此目录下;

<hr>

### Linux常用指令:

<hr>

**基础指令**:

<hr>

* `ls`指令(`list`):

    用法一 `ls`:
列出当前工作目录下的所有文件/文件夹名称

    用法二：`ls 路径`:
列出所写路径下的所有文件/文件夹名称

    用法三: `ls 选项 路径`
含义：在列出指定路径下的文件文件夹的名称，并以指定的格式显示

    `ls -l 路径`：表示以详细列表的形式展示

    `ls -la 路径`：表示显示所有的文件/文件夹（包含了隐藏文件/文件夹）

    用法四：`ls -lh 路径`
列出指定路径下所有的文件/文件夹，以列表的形式并且在显示文档大小的时候以可读性较高的形式显示


* `pwd`指令: (`print working directory`，打印当前工作目录)


* `cd`指令:(`change directory`：改变目录)

    `cd` 路径

    `cd ~` ：表示回到当前用户的家目录


* `mkdir`指令：(make directory：创建目录)

    `mkdir 路径`  路径可以是文件名，也可以是包含文件名的完整路径

    `mkdir -p 路径` 当一次性创建多层不存在的目录时，添加-p参数，否则会报错

    `mkdir 路径1 路径2 路径3` 表示一次性创建多个路径

* `touch`指令：（创建文件）

    语法：`touch` 文件路径 【文件路径可以是一个文件名或者包含文件名的完整路径】

* `cp`指令:
    
    语法：`cp`  被复制的文件路径 【文档被复制到的路径】

* `mv`指令:

    语法：`mv` 需要移动的文档路径  需要保存的文档路径

* `rm`指令

   语法：`rm` 选项 需要移除的文件路径

   `-f`：force，强制删除，不提示是否删除

   `-r`：表示递归【是指在进入文件时递归，而不是将经过的文件夹都删除】

* `vim`指令:

    `vim` 文件的路径

* `cat`指令:
    
    语法：`cat` 文件的路径

    `cat`还可以对文件进行合并

    语法2：`cat` 待合并的文件路径1 待合并的文件路径2  > 合并后的文件路径

<hr>

**进阶指令**

<hr>

* `df`指令(查看磁盘的空间):

    语法：`df -h`  【-h表示以可读性较高的形式展现大小】

* `free`指令(查看内存的使用情况):

    语法：`free -m` 【-m表示以mb为单位查看】

* `head`指令(用于查看一个文件的前n行，如果不指定n，则默认显示前10行):
    
    语法：`head -n 文件路径`

* `tail`指令(查看一个文件的末尾n行，默认是10行):

    语法：`tail -n 文件路径`

* `wc`指令:(统计文件信息(包括行数、单词数、字节数))

    语法：`wc -lwc 需要统计的文件路径`

    `-l`：表示lines，行数

    `-w`：表示words，单词数

    `-c`：表示byte，字节数

* `data`指令(表示操作时间日期(读取/设置))

    语法1： `date` 输出当前时间

    语法2: `date` + `%F`[按照指定形式输出时间]

* `管道符 |`
    `ls / | grep y`

    以管道作为分界线，前面的指令有个输出，后面需要先输入，然后过滤，最后再输出，通俗的说就是管道前面的输出就是后面指令的输入。

<hr>

**高阶指令**

<hr>

* `hostname`指令（用于操作服务器的主机名（读取、设置））
    
   语法：`hostname`  【表示输出完整的主机名】

* `id`指令（查看一个用于的一些基本信息（包含用户ID、用户组ID，附加组ID），该指令如果不指定用户，则默认是当前用户）

    语法: `id`【默认显示当前用户的基本信息】

* `whoami`指令:（显示当前登录用户的用户名）

    语法: `whoami`

* `ps -ef`指令（主要查看服务器的进程信息）

    `-e`: 等价于-A，表示列出全部进程;

    `-f`: 显示全部的列（显示全字段）

    示例：`ps -ef | grep "进程名称"`

* `top`指令：（查看服务器的进程占的资源）

* `kill`指令(用于杀死进程)

    语法：`kill` 进程`PID`  （语法需要配合ps一起使用）

* `shutdown`指令: 关机

* `uptime`指令(输出计算机的持续在线时间)

<hr>

**孤儿进程** :

一个父进程退出，而它的一个或者多个子进程还在运行，那么这些子进程被称为孤儿进程、孤儿进程将被init进程（进程号为1）所收养，并由init进程对他们完成状态收集工作；

**僵尸进程** :

当进程退出父进程（使用`wait()`系统调用）没有读取到子进程退出的返回码时就会产生一个僵尸进程。僵尸进程会以终止状态保持在进程表中，并且会一直等待父进程读取退出状态代码。

如何避免僵尸进程：

* （1）fork两次

原理是将子进程成为孤儿进程，从而其的父进程变为`init`进程，通过`init`进程可以处理僵尸进程

* （2）通过信号机制

子进程退出时向父进程发送`SIGCHILD`信号，父进程处理`SIGCHILD`信号。在信号处理函数中调用wait进行处理僵尸进程。

